/*! Connection - v1.0.0 - 2014-04-04
* https://github.com/rbarros/connection.js
* Copyright (c) 2014 Ramon Barros; Licensed MIT */
!function(a){"use strict";var b=function(a,b,c){return this.text=navigator.onLine?"online":"offline",this.code=navigator.onLine,a||b||c?this.addEvent(a,b,c):this};a.Connection=new b,b.prototype.addEvent=function(b,c,d){var e=0;if(a.document.addEventListener){if(b&&b.nodeName||b===a)b.addEventListener(c,d,!1);else if(b&&b.length)for(e;e<b.length;e++)a.Connection.addEvent(b[e],c,d)}else if(b&&b.nodeName||b===a)b.document.body.attachEvent("on"+c,function(){return d.call(b,a.event,a.Connection)});else if(b&&b.length)for(e;e<b.length;e++)a.Connection.addEvent(b[e],c,d)},b.prototype.check=function(b,c){var d=c||a.Connection;navigator?(d.text=navigator.onLine?"online":"offline",d.code=navigator.onLine):"online"===b.type?(d.text="online",d.code=!0):"offline"===b.type?(d.text="offline",d.code=!1):(d.text=void 0,d.code=void 0)},b.prototype.run=function(b){var c=this;c.addEvent(a,"online",b||c.check),c.addEvent(a,"offline",b||c.check),a.setInterval(a.Connection.status,1e3)},b.prototype.status=function(){a.console.log(a.Connection.text),a.console.log(a.Connection.code)}}(this);